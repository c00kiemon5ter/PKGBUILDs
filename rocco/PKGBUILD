# Maintainer: Ivan c00kiemon5ter Kanakarakis <ivan.kanak@gmail.com>
pkgname="rocco"
pkgver=0.6
pkgrel=1
pkgdesc="Ruby port of Docco, literate-programming-style documentation generator"
arch=('any')
url="http://rtomayko.github.com/rocco/"
license=('MIT')
depends=('ruby' 'ruby-mustache' 'ruby-rdiscount')
makedepends=('rubygems')
source=("http://rubygems.org/downloads/$pkgname-$pkgver.gem")
noextract=("$pkgname-$pkgver.gem")
sha256sums=('1cfeae5cfa1dfa1a8be6f911ba52dc78384fc5a1e8b59bbd4abafc573e78b706')

build() {
  cd "$srcdir"
  # _gemdir is defined inside build()
  # if ruby[gems] is not installed on the system
  # makepkg will barf when sourcing the PKGBUILD
  _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --ignore-dependencies --verbose -i "$pkgdir$_gemdir" -n "$pkgdir"/usr/bin "$pkgname-$pkgver.gem"
}

# vim:set ts=2 sw=2 et:
